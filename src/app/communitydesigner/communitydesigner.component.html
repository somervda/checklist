<span *ngIf="action == 'U'">
  <app-header
    name="Community Designer"
    rightButtonIconClass="fa-arrow-left"
    rightButtonTooltip="Return&nbsp;to&nbsp;Community"
    rightButtonRoute="/community/{{ id }}"
  ></app-header>
</span>
<!-- Special nav bar if adding a checklist -->
<span *ngIf="action == 'A'">
  <nav class="navbar navbar-dark  py-0" style="background-color: rgb(0,77,64)">
    <div class="container">
      <div class="navbar-brand pl-1 p-0">New Community</div>
      <button
        type="button"
        class="btn btn-outline-white mt-0 px-1 mr-1 ml-10 p-0 float-right text-light"
        (click)="onAddClick()"
        placement="left"
        ngbTooltip="Click to add"
        [disabled]="!f.valid"
      >
        <i class="fas fa-plus"></i> Add
      </button>
    </div>
  </nav>
</span>

<!-- Checklists Form -->
<div class="container">
  <form name="form" #f="ngForm">
    <!-- <div *ngIf="(Checklist$ | async) as checklist"> -->
    <!-- title -->
    <div class="form-group">
      <label for="title">Name *</label>
      <input
        type="text"
        class="form-control"
        name="name"
        [(ngModel)]="community.name"
        id="name"
        #name="ngModel"
        required
        minlength="10"
        maxlength="100"
        placeholder="Name"
        (blur)="onNameUpdate()"
      />
      <div *ngIf="name.touched && !name.valid">
        <div *ngIf="name?.errors.required" class="alert alert-danger">
          Name is required
        </div>
        <div *ngIf="name?.errors.minlength" class="alert alert-danger">
          Name must be at least 10 characters long
        </div>
      </div>
    </div>
    <!-- description -->
    <div class="form-group">
      <label for="description">Description *</label>
      <textarea
        class="form-control"
        name="description"
        [(ngModel)]="community.description"
        id="description"
        #description="ngModel"
        required
        minlength="25"
        maxlength="1000"
        placeholder="Description"
        rows="5"
        (blur)="onDescriptionUpdate()"
      ></textarea>
      <div *ngIf="description.touched && !description.valid">
        <div *ngIf="description?.errors.required" class="alert alert-danger">
          Description is required
        </div>
        <div *ngIf="description?.errors.minlength" class="alert alert-danger">
          Description must be at least 25 characters long
        </div>
      </div>
    </div>
  </form>
</div>
